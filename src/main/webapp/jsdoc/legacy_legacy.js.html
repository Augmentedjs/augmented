<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: legacy/legacy.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: legacy/legacy.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Legacy.js - The Legacy Component and package
 * Collection of legacy code (polyfills) and deprecated code to be removed later
 *
 * @author Bob Warren
 * @deprecated
 * @requires augmented.js
 * @module
 */
(function(moduleFactory) {
    if (typeof exports === 'object') {
	       module.exports = moduleFactory(require('augmented'));
    } else if (typeof define === 'function' &amp;&amp; define.amd) {
	       define([ 'augmented' ], moduleFactory);
    } else {
	       window.Augmented.Legacy = moduleFactory(window.Augmented);
    }
}(function(Augmented) {
    Augmented.Legacy = {};

    Augmented.Legacy.VERSION = '0.1.0';

    /**
     * Application Context
     * @deprecated Use Augmented.Application and Augmented.Security instead
     */

    /** Application Context Schema */
    var applicationContextSchema = {
	    "id" : "applicationContext",
	    "type" : "object",
	    "properties" : {
		"metadata" : {
		    "type" : "object",
		    "required" : true,
		    "properties" : {
			"title" : {
			    "type" : "string",
			    "required" : true
			},
			"context" : {
			    "type" : "string"
			}
		    }
		},
		"security" : {
		    "type" : "object",
		    "required" : true,
		    "properties" : {
			"user" : {
			    "type" : "string",
			    "required" : false
			},
			"loginName" : {
			    "type" : "string",
			    "required" : false
			},
			"userName" : {
			    "type" : "string",
			    "required" : false
			},
			"userId" : {
			    "type" : "number",
			    "required" : true
			},
			"email" : {
			    "type" : "string",
			    "required" : false
			},
			"role" : {
			    "type" : "array",
			    "required" : true,
			    "items" : {
				"type" : "string"
			    }
			},
			"privilege" : {
			    "type" : "array",
			    "required" : true,
			    "items" : {
				"type" : "string"
			    }
			},
			"oauth" : {
			    "type" : "object",
			    "properties" : {
				"authorization" : {
				    "type" : "string"
				},
				"access" : {
				    "type" : "string"
				}
			    }
			}
		    }
		}
	    }
    };

    /**
     * Application Context
     *
     * Collection of data for use to define the application
     */
    var applicationContextModel = Augmented.Model.extend({
	schema: applicationContextSchema,
	defaults: {
	    "metadata" : {
		"title" : "",
		"context" : ""
	    },
	    "principal": "",
	    "security" : {  // Replace this
		"loginName" : "",
		"userName" : "",
		"userId" : 0,
		"email" : "",
		"role" :[],
		"privilege" : [],
		"oauth" : {
		    "authorization" : "",
		    "access" : ""
		}
	    }
	},
	save: function() {
	    throw new Error("Not Supported!");
	},
	remove: function() {
	    throw new Error("Not Supported!");
	}
    });

    var applicationContext = function() {
	if(!this.model) {
	    this.model = new applicationContextModel();
	}
	this.hasPrivilege = function(privilegeName) {
	    var ret = false;

	    if (this.model
		    &amp;&amp; this.model.attributes.security.privilege != undefined) {
		var priv = this.model.attributes.security.privilege;

		ret = (priv.indexOf(privilegeName) != -1);
	    }
	    return ret;
	}
	this.hasRole = function(roleName){
    var ret = false;
	    if (this.model
		    &amp;&amp; this.model.attributes.security.role != undefined) {
		var role = this.model.attributes.security.role;

		ret = (role.indexOf(roleName) != -1);
	    }
	    return ret;

	}

	this.getAllPrivileges = function() {
	    if (this.model
		    &amp;&amp; this.model.attributes.security.privilege != undefined) {
		var priv = this.model.attributes.security.privilege;
		return priv;
	    }
	}

	this.getAllRoles = function(){
	    if (this.model
		    &amp;&amp; this.model.attributes.security.role != undefined) {
		var priv = this.model.attributes.security.role;
		return priv;
	    }
	}

	this.hasMetadata = function(metadataName) {
	    var ret = false;

	    if (this.model &amp;&amp; this.model.attributes.metadata != undefined
		    &amp;&amp; (metadataName in this.model.attributes.metadata)) {
		ret = true;
	    }
	    return ret;
	}

	this.getAllMetadata = function() {

	    if (this.model &amp;&amp; this.model.attributes.metadata != undefined) {
		return this.model.attributes.metadata;
	    }

	}

	this.getMetadata = function(metadataName){

	    if (this.model &amp;&amp; this.model.attributes.metadata != undefined
		    &amp;&amp; (metadataName in this.model.attributes.metadata)) {
		if (this.model.attributes.metadata.hasOwnProperty(metadataName)) {
		    return this.model.attributes.metadata[metadataName];
		}
	    }
	}

	this.setMetadata = function(metadata)
	{
	    if (this.model &amp;&amp; this.model.attributes.metadata != undefined){

		this.model.attributes.metadata[metadata[0]] = metadata[1];

	    }
	    return this.model.attributes.metadata;
	}


	this.authorize = function() {

	}
	this.access = function() {

	}
	this.fetch = function() {
	    if (this.model) {
		this.model.fetch();
	    }
	}
	this.save = function() {
	    if (this.model) {
		this.model.save();
	    }
	}
	this.isValid = function() {
	    if (this.model) {
		return this.model.isValid();
	    }
	    return false;
	}
	this.populate = function(data) {
	    if (this.model &amp;&amp; data) {
		this.model = new applicationContextModel(data);
	    }
	}
	this.setURI = function(uri) {
	    if (this.model &amp;&amp; uri) {
		this.model.url = uri;
		this.model.attributes.url = uri;
	    }
	}

	this.clear = function()
	{
	    this.model = new applicationContextModel();
	}

    };

    /** Application Context - The Security Object for the framework */

    Augmented.ApplicationContext;

    var applicationContextFactory = {
	    getApplicationContext : function() {
		if(!Augmented.ApplicationContext) {
		    Augmented.ApplicationContext = new applicationContext();
		}
		return Augmented.ApplicationContext;
	    }
    };

    Augmented.ApplicationContextFactory = applicationContextFactory;


}));
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="Augmented.module_Presentation.html">Presentation</a></li><li><a href="module-Augmented.html">Augmented</a></li><li><a href="module-legacy_legacy.html">legacy/legacy</a></li></ul><h3>Classes</h3><ul><li><a href="Augmented.Application.html">Application</a></li><li><a href="Augmented.augmentedLocalStorage.html">augmentedLocalStorage</a></li><li><a href="Augmented.Collection.html">Collection</a></li><li><a href="Augmented.History.html">History</a></li><li><a href="Augmented.Logger.abstractLogger.html">abstractLogger</a></li><li><a href="Augmented.Model.html">Model</a></li><li><a href="Augmented.Object.html">Object</a></li><li><a href="Augmented.PaginatedCollection.html">PaginatedCollection</a></li><li><a href="Augmented.Presentation.Application.html">Application</a></li><li><a href="Augmented.Presentation.AutomaticTable.html">AutomaticTable</a></li><li><a href="Augmented.Presentation.AutoTable.html">AutoTable</a></li><li><a href="Augmented.Presentation.BigDataTable.html">BigDataTable</a></li><li><a href="Augmented.Presentation.Colleague.html">Colleague</a></li><li><a href="Augmented.Presentation.EditableBigDataTable.html">EditableBigDataTable</a></li><li><a href="Augmented.Presentation.EditableTable.html">EditableTable</a></li><li><a href="Augmented.Presentation.Mediator.html">Mediator</a></li><li><a href="Augmented.Router.html">Router</a></li><li><a href="Augmented.Security.Client.ACLClient.html">ACLClient</a></li><li><a href="Augmented.Security.Client.OAUTH2Client.html">OAUTH2Client</a></li><li><a href="Augmented.Security.Context.html">Context</a></li><li><a href="Augmented.Security.Entry.html">Entry</a></li><li><a href="Augmented.Utility.Array.html">Array</a></li><li><a href="Augmented.Utility.AsynchronousQueue.html">AsynchronousQueue</a></li><li><a href="Augmented.Utility.AugmentedMap.html">AugmentedMap</a></li><li><a href="Augmented.Utility.Stack.html">Stack</a></li><li><a href="Augmented.ValidationFramework.html">ValidationFramework</a></li><li><a href="Augmented.View.html">View</a></li></ul><h3>Namespaces</h3><ul><li><a href="Augmented.Ajax.html">Ajax</a></li><li><a href="Augmented.Ajax.Configuration.html">Configuration</a></li><li><a href="Augmented.LocalStorageFactory.html">LocalStorageFactory</a></li><li><a href="Augmented.Logger.html">Logger</a></li><li><a href="Augmented.Logger.LoggerFactory.html">LoggerFactory</a></li><li><a href="Augmented.PaginationFactory.html">PaginationFactory</a></li><li><a href="Augmented.Presentation.html">Presentation</a></li><li><a href="Augmented.Security.html">Security</a></li><li><a href="Augmented.Security.AuthenticationFactory.html">AuthenticationFactory</a></li><li><a href="Augmented.Security.Client.html">Client</a></li><li><a href="Augmented.Security.Principal.html">Principal</a></li><li><a href="Augmented.Utility.html">Utility</a></li><li><a href="Augmented.Utility.BundleObject.html">BundleObject</a></li><li><a href="Augmented.Utility.MessageKeyFormatter.html">MessageKeyFormatter</a></li><li><a href="Augmented.Utility.MessageReader.html">MessageReader</a></li><li><a href="Augmented.Utility.ResourceBundle.html">ResourceBundle</a></li><li><a href="Augmented.Utility.Transformer.html">Transformer</a></li></ul><h3>Mixins</h3><ul><li><a href="Augmented.View.getFormData.html">getFormData</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Mon Feb 29 2016 15:30:17 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
